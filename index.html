<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How far can you maths?</title>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <header>
        <h1>
            How Maths Can You Go?
        </h1>
        <p>
            Maths is a fascinating phenomenon. Let's play a game.
        </p>
    </header>
    <section id="app">
        <section class="cards">
            <article class="card how-to">
                <h1>How to Play:</h1>
                This game tests your knowledge of maths multipliers.
            </article>
            <section class="card">
                <h2>Level {{ level }}</h2>
                <h2>{{prev}} x {{multiplier}}</h2>
                <input v-on:keyup.enter="submit" v-model.number="answer" type="number" />
                <p>{{ status }}</p>

                <h2>Score: {{ score }}</h2>
            </section>


        </section>
    </section>
</body>

<script>
    var app = new Vue({
        el: '#app',
        data: {
            level: 1,
            prev: 1,
            multiplier: 2,
            answer: null,
            correctAnswer: 0,
            score: 0,
            status: ""
        },
        methods: {
            submit: function () {
                console.log("submitted");
                this.correctAnswer = Math.pow(this.multiplier, this.level)
                console.log(this.correctAnswer, this.answer);
                if(this.correctAnswer == this.answer) {
                    this.status = "Correct";
                    this.answer = null;
                    this.level++;
                    this.prev = this.correctAnswer;
                    this.score += this.correctAnswer;
                }
                else {
                    this.gameOver();
                }
            },
            gameOver: function () {
                this.status = "Game over!";
            },
            tryAgain: function () {
                 Object.assign(this.$data, this.$options.data.call(this));
            }
        },
        created(){
        }
    })
</script>


</html>